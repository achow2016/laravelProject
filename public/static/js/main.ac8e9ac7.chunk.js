(this.webpackJsonptong=this.webpackJsonptong||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),l=a.n(s),o=(a(14),a(2)),c=a(3),i=a(5),m=a(4),u=a(1),h=a(6),p=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleTitle=function(e){a.setState({title:e.target.value})},a.handleComment=function(e){a.setState({comment:e.target.value})},a.handlePriority=function(e){a.setState({priority:e.target.value})},a.state={title:"",comment:"",priority:1},a.submitPost=a.submitPost.bind(Object(u.a)(a)),a.handleTitle=a.handleTitle.bind(Object(u.a)(a)),a.handleComment=a.handleComment.bind(Object(u.a)(a)),a.handlePriority=a.handlePriority.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"submitPost",value:function(){fetch("/posts/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({title:this.state.title,comment:this.state.comment,priority:this.state.priority})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"",value:this.props.username,disabled:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{className:"form-control",placeholder:"",name:"title",onChange:this.handleTitle})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Comment"),r.a.createElement("textarea",{className:"form-control",rows:"3",name:"comment",onChange:this.handleComment})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Priority"),r.a.createElement("select",{className:"form-control",name:"priority",onChange:this.handlePriority},r.a.createElement("option",{value:"1"},"Important"),r.a.createElement("option",{value:"2"},"High"),r.a.createElement("option",{value:"3"},"Normal"))),r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-outline-dark",onClick:this.submitPost},"Submit Post!")))}}]),t}(n.Component),d=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleDelete=function(e){console.log("deleting "+e)},a.handleDelete=a.handleDelete.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="card";return"1"==this.props.priority?e="card border-danger":"2"==this.props.priority?e="card border-warning":"3"==this.props.priority&&(e="card border-info"),r.a.createElement("div",{className:e},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},this.props.title),r.a.createElement("p",{className:"card-text"},this.props.comment)),r.a.createElement("ul",{className:"list-group list-group-flush"}),r.a.createElement("div",{className:"card-body text-right"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("img",{alt:"",className:"img img-thumbnail",src:this.props.picture}),r.a.createElement("div",{className:""},this.props.author))))}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getUser=function(){fetch("/user",{method:"GET",dataType:"JSON",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({user:e.user})}))},a.getPosts=function(){fetch("/posts",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({posts:e.posts})}))},a.refreshPosts=function(){a.setState({posts:[]}),a.getPosts()},a.state={user:{name:"John Doe",picture:""},posts:[]},a.refreshPosts=a.refreshPosts.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getPosts(),this.getUser()}},{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("img",{alt:"",className:"img img-thumbnail",src:this.state.user.picture})),r.a.createElement("h3",null,this.state.user.name)),r.a.createElement("div",{className:"col-md-6 text-left"},r.a.createElement("h2",{className:"text-center"},"Posts ",r.a.createElement("button",{className:"btn btn-outline-dark",onClick:this.refreshPosts},r.a.createElement("i",{className:"fas fa-sync-alt"})," ")),r.a.createElement("br",null),r.a.createElement("div",{className:"posts-box"},this.state.posts&&this.state.posts.length>0?this.state.posts.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(d,{id:e.id,title:e.title,comment:e.comment,priority:e.priority,author:e.author,picture:e.author_picture}),r.a.createElement("br",null))})):r.a.createElement("div",{className:"text-center"},r.a.createElement("p",null,"No posts found.")))),r.a.createElement("div",{className:"col-md-3 text-left"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,"New Post")),r.a.createElement("br",null),r.a.createElement(p,{username:this.state.user.name})))}}]),t}(n.Component);a(15);var b=function(){return r.a.createElement("div",{className:"flex-center position-ref full-height"},r.a.createElement("div",{className:"content container"},r.a.createElement("div",{className:"title m-b-md"},"COMP 4669"),r.a.createElement("div",{className:"links"},r.a.createElement("a",{href:"/logout"},"logout")),r.a.createElement("hr",null),r.a.createElement(E,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.ac8e9ac7.chunk.js.map